<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sa=""
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="/common/layout">
<head>
	<!--/*/ <th:block th:remove="all"> /*/-->
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="../../../../webcontents/share/css/init.css" />
	<script src="/webcontents/share/js/jquery.js" ></script>
	<!--/*/ </th:block> /*/-->
	<title>会社登録画面</title>
</head>
<body>
<div layout:fragment="contents">
<form action="." method="post">
<h3>基本情報</h3>

会社名:<input type="text" value="sample会社名"
	th:field="${form.kaishaMei.val}" sa:errclass="ErrorsProperty" /><br />
<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('kaishaMei.val')}" th:text="${e}">xxx</div>

<h3>手数料</h3>
<table>
	<tr>
		<th>適用期間(From)</th>
		<th>率／円</th>
		<th>手数料</th>
		<th></th>
	</tr>
	<tr>
		<td><input type="text" th:field="${form.cmKishTesuryoForm.tekiyoKikanFromDt.val}" /><br />
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishTesuryoForm.tekiyoKikanFromDt.val')}" th:text="${e}">手数料期間は必須です</div>
		</td>
		<td th:remove="all-but-first">
			<label th:each="kb : ${#j.tesuryoKb()}">
				<input type="radio" value="FIX"
					th:field="${form.cmKishTesuryoForm.tesuryoKb.val}" th:value="${kb.key}" /><span th:text="${kb.value}">固定</span>
			</label>
			<label><input type="radio" value="PCT" />
				<span>率</span>
			</label>
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishTesuryoForm.tesuryoKb.val')}" th:text="${e}">xxx</div>
		</td>
		<td><input type="text" value="10" th:field="${form.cmKishTesuryoForm.tesuryoIntSu.val}" />
			<span id="spanTesuryoKbPercent">．
			<input type="text" value="1" th:field="${form.cmKishTesuryoForm.tesuryoDmSu.val}" />
			</span><br />
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishTesuryoForm.tesuryoIntSu.val')}" th:text="${e}">xxx</div>
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishTesuryoForm.tesuryoDmSu.val')}" th:text="${e}">xxx</div>
		</td>
		<td><input type="submit" name="addTesuryo" value="追加" /></td>
	</tr>
</table>
<table th:remove="all-but-first">
	<tr th:each="tesuryo : ${form.cmKishTesuryoForms}">
		<td style="padding-right: 5px;"
			th:text="${tesuryo.tekiyoKikanFromDt.val}">2013/10/20</td>
		<td th:text="${tesuryo.tesuryoSu}">10.5</td>
	</tr>
	<tr>
		<td>2013/11/20</td>
		<td>12.5</td>
	</tr>
</table>
<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishTesuryoForm')}" th:text="${e}">xxx</div>
<br />

<h3>連絡先</h3>
<table>
	<tbody th:each="cmKishRenrakusakiForm, s : ${form.cmKishRenrakusakiForms}" style="border: 3px #999 solid;">
	<tr>
		<td>電話番号<span th:text="${s.count}">1</span>
			  <input type="text" th:field="${form.cmKishRenrakusakiForms[__${s.index}__].telNo.val[0]}" sa:errclass="ErrorsProperty" />
			- <input type="text" th:field="${form.cmKishRenrakusakiForms[__${s.index}__].telNo.val[1]}" sa:errclass="ErrorsProperty" />
			- <input type="text" th:field="${form.cmKishRenrakusakiForms[__${s.index}__].telNo.val[2]}" sa:errclass="ErrorsProperty" />
			<br />
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishRenrakusakiForms[__${s.index}__].telNo.val')}" th:text="${e}">xxx</div>
		</td>
	</tr>
	<tr><td>メールアドレス<span th:text="${s.count}">1</span>
			<input type="text" th:field="${form.cmKishRenrakusakiForms[__${s.index}__].mailAddress.val}" th:size="50" /><br />
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishRenrakusakiForms[__${s.index}__].mailAddress.val')}" th:text="${e}">xxx</div>
		</td>
	</tr>
	<tr th:remove="all-but-first">
		<td>連絡先用途<span th:text="${s.count}">1</span>
			<label th:each="kb : ${#j.renrakusakiYotoKb()}">
				<input type="radio" value="01" th:field="${form.cmKishRenrakusakiForms[__${s.index}__].renrakusakiYotoKb.val}"
					th:value="${kb.key}" /><span th:text="${kb.value}">緊急</span>
			</label>
			<label th:remove="all">
				<input type="radio" value="02" /><span>通常</span>
			</label>
			<div class="ErrorsProperty" th:each="e : ${#sa.messagesOf('cmKishRenrakusakiForms[' + s.index + '].renrakusakiYotoKb.val')}" th:text="${e}">xxx</div>
		</td>
	</tr>
	</tbody>
	<!--/*-->
	<tbody>
	<tr>
		<td>電話番号2
			<input type="text" value="123" />
			- <input type="text" value="2345" />
			- <input type="text" value="3456" /><br />
			<div class="ErrorsProperty">電話番号が不正です。</div>
		</td>
	</tr>
	<tr><td>メールアドレス2
			<input type="text" value="testexsample@exsample.com" /><br />
			<div class="ErrorsProperty">メールアドレスが不正です。</div>
		</td>
	</tr>
	<tr>
		<td>連絡先用途2
			<label>
				<input type="radio" value="01" /><span>緊急</span>
			</label>
			<label>
				<input type="radio" value="02" /><span>通常</span>
			</label>
			<div class="ErrorsProperty">連絡先用途が不正です。</div>
		</td>
	</tr>
	</tbody>
	<!--*/-->
	<tr>
		<td><input type="submit" name="addRenrakusaki" value="追加" /></td>
	</tr>
</table>

<input type="submit" name="backToList" value="戻る" />
<input type="submit" name="confirmRegister" value="次へ" />

</form>
<script th:inline="javascript">
$(function() {
	var $tesuryoKbRadio = $(':radio[name="cmKishTesuryoForm.tesuryoKb.val"]');
	$tesuryoKbRadio.ready(changeTesuryoKb).change(changeTesuryoKb);
	function changeTesuryoKb() {
		var __TesuryoKb_Percent = /*[[${application.TesuryoKb.Percent}]]*/'PCT';
		if ($tesuryoKbRadio.filter(':checked').val() === __TesuryoKb_Percent) {
			$('#spanTesuryoKbPercent').show();
		} else {
			$('#spanTesuryoKbPercent').hide();
		}
	}
});
</script>
</div>
</body>
</html>